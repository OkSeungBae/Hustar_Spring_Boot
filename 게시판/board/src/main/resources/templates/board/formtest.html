<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript" src="/webjars/jquery/3.1.0/jquery.min.js"></script>
<link rel="stylesheet" href="/webjars/bootstrap/3.3.1/css/bootstrap.min.css"/>
<script src="/webjars/bootstrap/3.3.1/js/bootstrap.min.js"></script>
</head>
<body>

<center>
<h2>게시판 글쓰기</h2>
<form action="/action_page.php">
  <label for="title">글제목:</label><br>
  <input type="text" id="title" name="title" ><br>
  <label for="catagory">카테고리:</label><br>
  <input type="text" id="catagory" name="catagory" ><br><br>
  <label for="uname">작성자:</label><br>
  <input type="text" id="uname" name="uname" ><br><br>
  <label for="content">내용:</label><br>
  <input type="text" id="content" name="content" ><br><br>
</form> 
<button id="btn_save">저장</button>
<script type="text/javascript">
        $('#btn_save').click(function () {
        	var jsonData=JSON.stringify({
        		title:$('#title').val(),
        		catagory:$('#catagory').val(),
        		uname:$('#uname').val(),
        		content:$('#content').val()
        	});
            
        	
        	$.ajax({
                url: "http://localhost:8080/board/insert",
                type: "POST",
                data: jsonData,
                contentType: "application/json",
                headers: {
                    "Authorization": "Basic " + btoa("havi" + ":" + "test")
                },
                dataType: "json",
                    success: function () {
                        alert('저장 성공!');
                        location.href = '/board/list';
                },
                error: function () {
                    alert('저장 실패!');
                   
                }
            });
        });
</script>
</center>
</body>
</html>